# E085 AI生成功能 - 用户使用指南

## 快速开始

### 前置条件
1. 已登录系统
2. 已在"API配置"页面添加并启用至少一个API Provider

### 基础使用流程

#### 方式一：批量生成（推荐）⚡

1. **输入主题**
   ```
   在"主题"输入框中输入您的主题，例如：
   "编写产品需求文档"
   "客户服务对话"
   "数据分析报告"
   ```

2. **点击批量生成**
   ```
   点击页面上的 "🤖 AI批量生成" 按钮
   ```

3. **等待生成完成**
   ```
   系统会自动按顺序生成所有六要素：
   ✅ 任务目标
   ✅ AI的角色
   ✅ 我的角色
   ✅ 关键信息
   ✅ 行为规则
   ✅ 交付格式
   
   进度条会实时显示生成进度
   ```

4. **确认并填充**
   ```
   生成完成后，点击"确定"按钮
   所有内容会自动填充到表单中
   ```

5. **编辑和保存**
   ```
   根据需要编辑生成的内容
   点击"保存模板"保存到数据库
   或点击"拷贝Markdown"复制到剪贴板
   ```

#### 方式二：单个生成

1. **输入主题**（必须）
   ```
   先在"主题"输入框中输入主题
   ```

2. **选择要生成的要素**
   ```
   在任意要素卡片中，点击右下角的 AI 图标按钮
   ```

3. **等待生成**
   ```
   弹出AI生成窗口，自动开始生成
   实时显示生成的内容
   ```

4. **确认或重新生成**
   ```
   满意：点击"确定"填充到表单
   不满意：点击"继续生成"重新生成
   ```

## 高级功能

### 1. 调整生成参数 ⚙️

在单个要素生成时，可以调整AI参数：

1. **打开高级设置**
   ```
   在AI生成弹窗中，点击 "⚙️ 高级设置" 按钮
   ```

2. **调整 Temperature**
   ```
   范围：0 - 2
   
   0.0 - 0.3：确定性输出，适合需要精确答案的场景
   0.4 - 0.7：平衡输出（默认0.7）
   0.8 - 1.5：创造性输出，适合需要多样性的场景
   1.6 - 2.0：高度创造性，可能产生意外结果
   ```

3. **调整 Max Tokens**
   ```
   范围：100 - 4000
   
   100 - 500：简短回答
   500 - 1500：中等长度（默认2000）
   1500 - 4000：详细回答
   ```

4. **应用新参数**
   ```
   调整后点击"继续生成"或"重试"
   新参数会立即生效
   ```

### 2. 选择AI模型

如果您配置了多个API Provider：

1. **查看可用模型**
   ```
   在AI生成弹窗中会显示当前使用的模型
   ```

2. **切换模型**（功能开发中）
   ```
   未来版本将支持在生成前选择不同的模型
   ```

### 3. 语音输入 🎤

每个输入框都支持语音输入：

1. **开始录音**
   ```
   点击输入框右侧的麦克风图标
   图标变红表示正在录音
   ```

2. **说话**
   ```
   清晰地说出您要输入的内容
   系统会实时识别并转换为文字
   ```

3. **停止录音**
   ```
   再次点击麦克风图标停止
   或等待自动停止
   ```

### 4. 全屏编辑 📝

对于多行文本输入框：

1. **打开全屏**
   ```
   点击输入框右下角的全屏图标
   ```

2. **编辑内容**
   ```
   在全屏模式下编辑，更加舒适
   实时显示字符数
   ```

3. **完成编辑**
   ```
   点击"完成"按钮返回
   内容自动保存
   ```

## 使用技巧

### 1. 主题的编写

好的主题能获得更好的生成结果：

✅ **推荐写法**
```
"为电商平台编写客服对话脚本"
"分析用户行为数据并生成报告"
"设计一个任务管理系统的需求文档"
```

❌ **不推荐写法**
```
"帮我写点东西"（太模糊）
"客服"（太简短）
"我需要一个很复杂的系统..."（太冗长）
```

### 2. 生成顺序的重要性

六要素有依赖关系，建议按顺序生成：

```
1. 任务目标 ← 基础，其他要素都依赖它
2. AI的角色 ← 依赖任务目标
3. 我的角色 ← 依赖任务目标
4. 关键信息 ← 依赖任务目标和AI角色
5. 行为规则 ← 依赖前面所有要素
6. 交付格式 ← 依赖任务目标和关键信息
```

**批量生成会自动按正确顺序执行**

### 3. 编辑生成的内容

AI生成的内容是建议，您可以：

- ✏️ 直接编辑修改
- 🔄 重新生成
- ➕ 添加更多细节
- ➖ 删除不需要的部分
- 🎨 调整语气和风格

### 4. 保存和导出

完成编辑后，有多种保存方式：

1. **保存到数据库**
   ```
   点击"保存模板"按钮
   需要登录
   可以在"我的模板"中查看
   ```

2. **拷贝Markdown**
   ```
   点击"拷贝Markdown"按钮
   内容复制到剪贴板
   可以粘贴到任何支持Markdown的地方
   ```

3. **拷贝JSON**
   ```
   点击"拷贝JSON"按钮
   以JSON格式复制
   方便程序化处理
   ```

## 常见问题

### Q1: 点击AI按钮没有反应？

**可能原因：**
- 主题为空
- 没有可用的API Provider
- 提示词模板加载失败

**解决方法：**
1. 确保已输入主题
2. 检查API配置页面，确保至少有一个启用的Provider
3. 刷新页面重新加载模板

### Q2: 生成的内容不满意？

**解决方法：**
1. 点击"继续生成"重新生成
2. 调整Temperature参数（提高创造性或降低随机性）
3. 修改主题描述，提供更多上下文
4. 手动编辑生成的内容

### Q3: 批量生成中途失败？

**可能原因：**
- 网络连接问题
- API配额用完
- 某个要素生成失败

**解决方法：**
1. 检查网络连接
2. 查看错误提示信息
3. 使用单个生成功能补充失败的要素
4. 检查API Provider的配额和状态

### Q4: 生成速度很慢？

**可能原因：**
- 网络延迟
- API服务器响应慢
- Max Tokens设置过大

**解决方法：**
1. 检查网络连接
2. 尝试切换其他API Provider
3. 降低Max Tokens值
4. 在网络较好的时段使用

### Q5: 如何获得更好的生成效果？

**建议：**
1. **明确主题**：提供清晰、具体的主题描述
2. **按顺序生成**：使用批量生成或按依赖顺序单个生成
3. **适当编辑**：生成后根据实际需求调整内容
4. **调整参数**：根据需求调整Temperature和Max Tokens
5. **多次尝试**：不满意可以重新生成多次

## 最佳实践

### 场景一：快速原型

```
目标：快速生成一个提示词模板的初稿

步骤：
1. 输入简洁明确的主题
2. 使用批量生成（默认参数）
3. 快速浏览生成结果
4. 保存或导出
```

### 场景二：精细打磨

```
目标：生成高质量的提示词模板

步骤：
1. 输入详细的主题描述
2. 使用批量生成获得初稿
3. 逐个要素单独生成，调整参数
4. 仔细编辑每个要素
5. 多次迭代优化
6. 保存最终版本
```

### 场景三：创意探索

```
目标：探索不同的表达方式

步骤：
1. 输入主题
2. 使用高Temperature（1.2-1.5）
3. 多次生成同一要素
4. 对比不同版本
5. 选择或组合最佳内容
```

## 快捷键（计划中）

未来版本将支持以下快捷键：

- `Ctrl/Cmd + S`：保存模板
- `Ctrl/Cmd + G`：批量生成
- `Ctrl/Cmd + K`：拷贝Markdown
- `Esc`：关闭弹窗

## 获取帮助

如果遇到问题：

1. 查看浏览器控制台（F12）的错误信息
2. 检查API配置是否正确
3. 查看本文档的"常见问题"部分
4. 联系技术支持

## 更新日志

### v1.1.0 (2025-10-26)
- ✨ 新增批量生成功能
- ✨ 新增参数调整功能
- ✨ 新增API Provider选择器
- 🐛 修复占位符替换bug
- 🐛 启用模板缓存
- 💄 优化UI样式

### v1.0.0
- 🎉 初始版本发布
- ✨ 单个要素AI生成
- ✨ 语音输入
- ✨ 全屏编辑
- ✨ 模板保存和导出
